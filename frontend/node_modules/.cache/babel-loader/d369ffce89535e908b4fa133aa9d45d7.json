{"ast":null,"code":"var _jsxFileName = \"/Users/fusingvoon/Documents/Go/go-microservices/frontend/src/Admin.js\";\nimport React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Toast from './Toast.js';\nimport axios from 'axios';\n/*\nThis is the react equivilent of the following HTML form\n<form action=\"http://localhost:8000\" method=\"post\" enctype=\"multipart/form-data\">\n  <p><input type=\"text\" name=\"id\" value=\"\">\n  <p><input type=\"file\" name=\"file\">\n  <p><button type=\"submit\">Submit</button>\n</form>\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      validated: false,\n      id: \"\",\n      buttonDisabled: false,\n      toastShow: false,\n      toastText: \"asd\"\n    };\n    this.validated = this.validated.bind(this);\n    this.changeHandler = this.changeHandler.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  validated() {\n    console.log(\"validated\", this.state.validated);\n    return this.state.validated;\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (event.currentTarget.checkValidity() === false) {\n      event.stopPropagation();\n      return;\n    }\n\n    ;\n    this.setState({\n      buttonDisabled: true,\n      toastShow: false\n    }); // create the data\n\n    const data = new FormData();\n    data.append('file', this.state.file);\n    data.append('id', this.state.id); // upload the file\n\n    axios.post(window.global.files_location, data, {\n      'content-type': `multipart/form-data; boundary=${data._boundary}`\n    }).then(res => {\n      console.log(res);\n      var toastText = \"\";\n\n      if (res.status === 200) {\n        toastText = \"Uploaded file\";\n      } else {\n        toastText = \"Unable to upload file. Error:\" + res.statusText;\n      }\n\n      this.setState({\n        buttonDisabled: false,\n        toastShow: true,\n        toastText: toastText\n      });\n    }).catch(error => {\n      console.log(\"Err\" + error);\n      this.setState({\n        buttonDisabled: false,\n        toastShow: true,\n        toastText: \"Unable to upload file. \" + error\n      });\n    });\n  }\n\n  changeHandler(event) {\n    if (event.target.name === \"file\") {\n      this.setState({\n        [event.target.name]: event.target.files[0],\n        toastShow: false\n      });\n      return;\n    }\n\n    this.setState({\n      [event.target.name]: event.target.value,\n      toastShow: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          marginBottom: \"40px\"\n        },\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"text-left\",\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          noValidate: true,\n          validated: this.validated,\n          onSubmit: this.handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            controlId: \"productID\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"2\",\n              children: \"Product ID:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: \"6\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"id\",\n                placeholder: \"\",\n                required: true,\n                style: {\n                  width: \"80px\"\n                },\n                value: this.state.id,\n                onChange: this.changeHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                className: \"text-muted\",\n                children: \"Enter the product id to upload an image for\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Please provide a product ID.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: \"4\",\n              children: /*#__PURE__*/_jsxDEV(Toast, {\n                show: this.state.toastShow,\n                message: this.state.toastText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"2\",\n              children: \"File:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: \"10\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"file\",\n                name: \"file\",\n                placeholder: \"\",\n                required: true,\n                onChange: this.changeHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                className: \"text-muted\",\n                children: \"Image to associate with the product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Please select a file to upload.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            disabled: this.state.buttonDisabled,\n            children: \"Submit form\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default Admin;","map":{"version":3,"names":["React","Form","Col","Row","Button","Container","Toast","axios","Admin","Component","constructor","props","state","validated","id","buttonDisabled","toastShow","toastText","bind","changeHandler","handleSubmit","console","log","event","preventDefault","currentTarget","checkValidity","stopPropagation","setState","data","FormData","append","file","post","window","global","files_location","_boundary","then","res","status","statusText","catch","error","target","name","files","value","render","marginBottom","width"],"sources":["/Users/fusingvoon/Documents/Go/go-microservices/frontend/src/Admin.js"],"sourcesContent":["import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Toast from './Toast.js'\n\nimport axios from 'axios';\n\n/*\nThis is the react equivilent of the following HTML form\n<form action=\"http://localhost:8000\" method=\"post\" enctype=\"multipart/form-data\">\n  <p><input type=\"text\" name=\"id\" value=\"\">\n  <p><input type=\"file\" name=\"file\">\n  <p><button type=\"submit\">Submit</button>\n</form>\n*/\n\n\nclass Admin extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {validated: false, id: \"\", buttonDisabled: false, toastShow: false, toastText: \"asd\"};\n    \n        this.validated = this.validated.bind(this);\n        this.changeHandler = this.changeHandler.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    validated(){\n        console.log(\"validated\", this.state.validated)\n        return this.state.validated;\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        if(event.currentTarget.checkValidity() === false) {\n            event.stopPropagation();\n            return;\n        };\n\n        this.setState({buttonDisabled: true, toastShow: false})\n\n        // create the data\n        const data = new FormData()\n        data.append('file', this.state.file);\n        data.append('id', this.state.id);\n\n        // upload the file\n        axios.post(\n            window.global.files_location, \n            data, \n            {'content-type': `multipart/form-data; boundary=${data._boundary}`})\n        .then(res => {\n            console.log(res);\n            var toastText = \"\";\n            if(res.status === 200) {\n                toastText = \"Uploaded file\";\n            } else {\n                toastText = \"Unable to upload file. Error:\" +res.statusText;\n            }\n\n            this.setState({buttonDisabled: false, toastShow: true, toastText: toastText});\n        }).catch(error => {\n            console.log(\"Err\" + error);\n            this.setState({buttonDisabled: false, toastShow: true, toastText: \"Unable to upload file. \" + error});\n        });\n    }\n\n    changeHandler(event) {\n        if(event.target.name === \"file\"){\n            this.setState({ [event.target.name]: event.target.files[0], toastShow: false});\n            return\n        }\n\n        this.setState({ [event.target.name]: event.target.value, toastShow: false});\n    }\n\n    render() {\n      return (\n          <div>\n          <h1 style={{marginBottom: \"40px\"}}>Admin</h1>\n          <Container className=\"text-left\">\n            <Form noValidate validated={this.validated} onSubmit={this.handleSubmit}>\n                  <Form.Group as={Row} controlId=\"productID\">\n                      <Form.Label column sm=\"2\">Product ID:</Form.Label>\n                      <Col sm=\"6\">\n                          <Form.Control type=\"text\" name=\"id\" placeholder=\"\" required style={{width: \"80px\"}} value={this.state.id} onChange={this.changeHandler}/>\n                          <Form.Text className=\"text-muted\">Enter the product id to upload an image for</Form.Text>\n                          <Form.Control.Feedback type=\"invalid\">Please provide a product ID.</Form.Control.Feedback>\n                      </Col>\n                  <Col sm=\"4\">\n                      <Toast show={this.state.toastShow} message={this.state.toastText}/>\n                  </Col>\n                  </Form.Group>\n                  <Form.Group as={Row}>\n                      <Form.Label column sm=\"2\">File:</Form.Label>\n                      <Col sm=\"10\">\n                          <Form.Control type=\"file\" name=\"file\" placeholder=\"\" required onChange={this.changeHandler}/>\n                          <Form.Text className=\"text-muted\">Image to associate with the product</Form.Text>\n                          <Form.Control.Feedback type=\"invalid\">Please select a file to upload.</Form.Control.Feedback>\n                      </Col>\n                  </Form.Group>\n                  <Button  type=\"submit\" disabled={this.state.buttonDisabled}>Submit form</Button>\n            </Form>\n          </Container>\n          </div>\n      )\n    }\n}\n\nexport default Admin;"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAGA,MAAMC,KAAN,SAAoBR,KAAK,CAACS,SAA1B,CAAoC;EAEhCC,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MAACC,SAAS,EAAE,KAAZ;MAAmBC,EAAE,EAAE,EAAvB;MAA2BC,cAAc,EAAE,KAA3C;MAAkDC,SAAS,EAAE,KAA7D;MAAoEC,SAAS,EAAE;IAA/E,CAAb;IAEA,KAAKJ,SAAL,GAAiB,KAAKA,SAAL,CAAeK,IAAf,CAAoB,IAApB,CAAjB;IACA,KAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;IACA,KAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAApB;EACH;;EAEDL,SAAS,GAAE;IACPQ,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,KAAKV,KAAL,CAAWC,SAApC;IACA,OAAO,KAAKD,KAAL,CAAWC,SAAlB;EACH;;EAEDO,YAAY,CAACG,KAAD,EAAQ;IAChBA,KAAK,CAACC,cAAN;;IACA,IAAGD,KAAK,CAACE,aAAN,CAAoBC,aAApB,OAAwC,KAA3C,EAAkD;MAC9CH,KAAK,CAACI,eAAN;MACA;IACH;;IAAA;IAED,KAAKC,QAAL,CAAc;MAACb,cAAc,EAAE,IAAjB;MAAuBC,SAAS,EAAE;IAAlC,CAAd,EAPgB,CAShB;;IACA,MAAMa,IAAI,GAAG,IAAIC,QAAJ,EAAb;IACAD,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoB,KAAKnB,KAAL,CAAWoB,IAA/B;IACAH,IAAI,CAACE,MAAL,CAAY,IAAZ,EAAkB,KAAKnB,KAAL,CAAWE,EAA7B,EAZgB,CAchB;;IACAP,KAAK,CAAC0B,IAAN,CACIC,MAAM,CAACC,MAAP,CAAcC,cADlB,EAEIP,IAFJ,EAGI;MAAC,gBAAiB,iCAAgCA,IAAI,CAACQ,SAAU;IAAjE,CAHJ,EAICC,IAJD,CAIMC,GAAG,IAAI;MACTlB,OAAO,CAACC,GAAR,CAAYiB,GAAZ;MACA,IAAItB,SAAS,GAAG,EAAhB;;MACA,IAAGsB,GAAG,CAACC,MAAJ,KAAe,GAAlB,EAAuB;QACnBvB,SAAS,GAAG,eAAZ;MACH,CAFD,MAEO;QACHA,SAAS,GAAG,kCAAiCsB,GAAG,CAACE,UAAjD;MACH;;MAED,KAAKb,QAAL,CAAc;QAACb,cAAc,EAAE,KAAjB;QAAwBC,SAAS,EAAE,IAAnC;QAAyCC,SAAS,EAAEA;MAApD,CAAd;IACH,CAdD,EAcGyB,KAdH,CAcSC,KAAK,IAAI;MACdtB,OAAO,CAACC,GAAR,CAAY,QAAQqB,KAApB;MACA,KAAKf,QAAL,CAAc;QAACb,cAAc,EAAE,KAAjB;QAAwBC,SAAS,EAAE,IAAnC;QAAyCC,SAAS,EAAE,4BAA4B0B;MAAhF,CAAd;IACH,CAjBD;EAkBH;;EAEDxB,aAAa,CAACI,KAAD,EAAQ;IACjB,IAAGA,KAAK,CAACqB,MAAN,CAAaC,IAAb,KAAsB,MAAzB,EAAgC;MAC5B,KAAKjB,QAAL,CAAc;QAAE,CAACL,KAAK,CAACqB,MAAN,CAAaC,IAAd,GAAqBtB,KAAK,CAACqB,MAAN,CAAaE,KAAb,CAAmB,CAAnB,CAAvB;QAA8C9B,SAAS,EAAE;MAAzD,CAAd;MACA;IACH;;IAED,KAAKY,QAAL,CAAc;MAAE,CAACL,KAAK,CAACqB,MAAN,CAAaC,IAAd,GAAqBtB,KAAK,CAACqB,MAAN,CAAaG,KAApC;MAA2C/B,SAAS,EAAE;IAAtD,CAAd;EACH;;EAEDgC,MAAM,GAAG;IACP,oBACI;MAAA,wBACA;QAAI,KAAK,EAAE;UAACC,YAAY,EAAE;QAAf,CAAX;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,eAEA,QAAC,SAAD;QAAW,SAAS,EAAC,WAArB;QAAA,uBACE,QAAC,IAAD;UAAM,UAAU,MAAhB;UAAiB,SAAS,EAAE,KAAKpC,SAAjC;UAA4C,QAAQ,EAAE,KAAKO,YAA3D;UAAA,wBACM,QAAC,IAAD,CAAM,KAAN;YAAY,EAAE,EAAEjB,GAAhB;YAAqB,SAAS,EAAC,WAA/B;YAAA,wBACI,QAAC,IAAD,CAAM,KAAN;cAAY,MAAM,MAAlB;cAAmB,EAAE,EAAC,GAAtB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI,QAAC,GAAD;cAAK,EAAE,EAAC,GAAR;cAAA,wBACI,QAAC,IAAD,CAAM,OAAN;gBAAc,IAAI,EAAC,MAAnB;gBAA0B,IAAI,EAAC,IAA/B;gBAAoC,WAAW,EAAC,EAAhD;gBAAmD,QAAQ,MAA3D;gBAA4D,KAAK,EAAE;kBAAC+C,KAAK,EAAE;gBAAR,CAAnE;gBAAoF,KAAK,EAAE,KAAKtC,KAAL,CAAWE,EAAtG;gBAA0G,QAAQ,EAAE,KAAKK;cAAzH;gBAAA;gBAAA;gBAAA;cAAA,QADJ,eAEI,QAAC,IAAD,CAAM,IAAN;gBAAW,SAAS,EAAC,YAArB;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAFJ,eAGI,QAAC,IAAD,CAAM,OAAN,CAAc,QAAd;gBAAuB,IAAI,EAAC,SAA5B;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAHJ;YAAA;cAAA;cAAA;cAAA;YAAA,QAFJ,eAOA,QAAC,GAAD;cAAK,EAAE,EAAC,GAAR;cAAA,uBACI,QAAC,KAAD;gBAAO,IAAI,EAAE,KAAKP,KAAL,CAAWI,SAAxB;gBAAmC,OAAO,EAAE,KAAKJ,KAAL,CAAWK;cAAvD;gBAAA;gBAAA;gBAAA;cAAA;YADJ;cAAA;cAAA;cAAA;YAAA,QAPA;UAAA;YAAA;YAAA;YAAA;UAAA,QADN,eAYM,QAAC,IAAD,CAAM,KAAN;YAAY,EAAE,EAAEd,GAAhB;YAAA,wBACI,QAAC,IAAD,CAAM,KAAN;cAAY,MAAM,MAAlB;cAAmB,EAAE,EAAC,GAAtB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI,QAAC,GAAD;cAAK,EAAE,EAAC,IAAR;cAAA,wBACI,QAAC,IAAD,CAAM,OAAN;gBAAc,IAAI,EAAC,MAAnB;gBAA0B,IAAI,EAAC,MAA/B;gBAAsC,WAAW,EAAC,EAAlD;gBAAqD,QAAQ,MAA7D;gBAA8D,QAAQ,EAAE,KAAKgB;cAA7E;gBAAA;gBAAA;gBAAA;cAAA,QADJ,eAEI,QAAC,IAAD,CAAM,IAAN;gBAAW,SAAS,EAAC,YAArB;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAFJ,eAGI,QAAC,IAAD,CAAM,OAAN,CAAc,QAAd;gBAAuB,IAAI,EAAC,SAA5B;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAHJ;YAAA;cAAA;cAAA;cAAA;YAAA,QAFJ;UAAA;YAAA;YAAA;YAAA;UAAA,QAZN,eAoBM,QAAC,MAAD;YAAS,IAAI,EAAC,QAAd;YAAuB,QAAQ,EAAE,KAAKP,KAAL,CAAWG,cAA5C;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QApBN;QAAA;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA,QAFA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ;EA6BD;;AA1F+B;;AA6FpC,eAAeP,KAAf"},"metadata":{},"sourceType":"module"}